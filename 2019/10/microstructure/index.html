<!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title>Notes on Market Microstructure · Rongjia Liu</title><meta name="description" content="Notes on Market Microstructure - Rongjia Liu"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/arctic.css"><link rel="search" type="application/opensearchdescription+xml" href="http://jackliu234.com/atom.xml" title="Rongjia Liu"><script src="//code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/archive/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/about/" target="_self" class="nav-list-link">ABOUT</a></li><li class="nav-list-item"><a href="/search/" target="_self" class="nav-list-link">SEARCH</a></li><!-- li.nav-list-item--><!--    a.nav-list-link(class="search" href=url_for("search") target="_self") <i class="fa fa-search" aria-hidden="true"></i>--></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">Notes on Market Microstructure</h1><div class="post-info">Oct 8, 2019</div><div class="post-content"><h2 id="Definition"><a href="#Definition" class="headerlink" title="Definition"></a>Definition</h2><p>According to <a href="https://en.wikipedia.org/wiki/Market_microstructure" target="_blank" rel="noopener">Wikipedia</a>:</p>
<blockquote>
<p><strong>Market microstructure</strong> is a branch of finance concerned with the details of how exchange occurs in markets.</p>
</blockquote>
<p>The modern day <code>High-Frequency Trading</code> depends on and contributes to the market microstructure, especially those established in electronic exchanges.</p>
<p>To observe the microstructures, we have to be sensitive to miniscule movements in the markets with a <code>Frog&#39;s Eye View</code>, which can detect a single photon.</p>
<h2 id="History"><a href="#History" class="headerlink" title="History"></a>History</h2><p>In 1998, the SEC authorizes <code>Electronic Exchanges</code> and since allowed HFT, which gained significance in early 2000s first as a market making approach.</p>
<p>In 2005, the SEC promulgated the <code>Regulation NMS</code> (National Market System) to strengthen the <code>NMS</code> for equity securities.</p>
<ul>
<li>The <a href="https://www.sec.gov/rules/final/34-51808.pdf" target="_blank" rel="noopener">Rule 610</a>, a.k.a. <code>Access Rule</code>, prohibit the practice of displaying quotation that locks the protected quotation of other trading centers.</li>
<li>The <a href="https://www.sec.gov/spotlight/emsac/memo-rule-611-regulation-nms.pdf" target="_blank" rel="noopener">Rule 611</a>, a.k.a <code>Order Protection Rule</code>, restricts the execution of trades on one venue at prices that are inferior to displayed quotations at another venue.</li>
<li>The <a href="https://www.sec.gov/rules/final/34-51808.pdf" target="_blank" rel="noopener">Rule 612</a>, a.k.a. <code>Sub-Penny Rule</code>, prohibits quotations that are priced in an increment of less than $0.01.</li>
</ul>
<p>HFT Started to grow fast after the financial crisis of 2008, and Rule 610 became the turning point in HFT evolution.</p>
<p>In 2010, the Dodd-Frank Act prohibited 3 types of transactions that are disruptive of fair and equitable trading.</p>
<ol>
<li>Trading that violates bids and offers (mostly concerned OTC traders)</li>
<li>Trading with reckless disregard for orderly executions during the closing period</li>
<li>Spoofing, which is a trader’s intent to cancel the posted bid or ask order before execution, in order to overload the quotation system, delay another person’s execution or create false appearance of market depth.</li>
</ol>
<h2 id="Theory"><a href="#Theory" class="headerlink" title="Theory"></a>Theory</h2><p>In HFT, <code>Price discovery</code> is a <a href="https://en.wikipedia.org/wiki/Destructive_testing" target="_blank" rel="noopener">destructive experiement</a> involving unique counterparts. Since <code>the last seen price</code> does not necessarily indicate current price, price becomes a <code>distribution</code> and therefore multiple probing is needed to discover price.</p>
<p>According to <a href="https://en.wikipedia.org/wiki/Uncertainty_principle" target="_blank" rel="noopener">Wikipedia</a>:</p>
<blockquote>
<p>In quantum mechanics, the Heisenberg’s <strong>Uncertainty Principle</strong> describes the mathematical inequalities asserting a fundamental limit to the precision with which certain pairs of conjugate properties (such as position <script type="math/tex">x</script> and momentum <script type="math/tex">p</script>) of a particle can be known. Because the mathematical framework of quantum physics does not support simultaneously well-defined conjugate properties.</p>
</blockquote>
<p>One example is the simultaneous measurement of asset price and its volatility manifested in a derivative product. When we trade an option, we know the option premium precisely at the moment of the trade, but the underlying asset price are also affected at the same time, and vice versa.</p>
<p>Ma (間) is a japanese word for space, which can be interpreted as “emptiness”. The Japanese art of flower arrangement, Ikebana (生け花) also emphasize the the attention to the gaps/Ma between the arrangements.</p>
<p><img src="microstructure-sogetsu_ikebana_london_flower_school.jpg" alt="sogetsu_ikebana_london_flower_school.jpg"></p>
<p>Market data with gaps are typically found with:</p>
<ol>
<li><strong>Portfolio Return</strong>: Auto-correlation at lag 1</li>
<li><strong>Returns of Two Stocks</strong>: Cross-correlation between lag 1</li>
<li><strong>Single Stock</strong>: Negative auto-correlations</li>
</ol>
<h2 id="Bid-Ask-Spread"><a href="#Bid-Ask-Spread" class="headerlink" title="Bid-Ask Spread"></a>Bid-Ask Spread</h2><p>Some exchanges have an official status of <code>Market Maker</code>, who agrees to provide liquidity by guaranteeing order fulfillment. Market maker therefore have the right to demand a <code>bid-ask spread</code> between the price they buy <script type="math/tex">P^{bid}</script> and the price they sell <script type="math/tex">P^{ask}</script></p>
<script type="math/tex; mode=display">\text{bid-ask spread} = P^{ask} - P^{bid}</script><p>The <code>bid-ask bounce</code> is the tendency for price to jump between <script type="math/tex">P^{bid}</script> and <script type="math/tex">P^{ask}</script> (causing negative auto-correlation).</p>
<p>By obvious reason, a traded security will never have a <code>unique</code> price. There are ways to come up with a unique number as the price, however. For example, a <code>mid-price</code> is defined as such:</p>
<script type="math/tex; mode=display">\text{mid-price} = \dfrac{P^{bid} + P^{ask}}{2}</script><p>However, to more accurately reflect the market microstructure, we can use the <code>micro-price</code>, which is essentially the bid and ask price weighted by their volumes.</p>
<script type="math/tex; mode=display">\text{micro-price} = \dfrac{V^{ask}}{V^{bid} + V^{ask}}P^{bid} + \dfrac{V^{bid}}{V^{bid} + V^{ask}}P^{ask}</script><p>As we observed in the market, when the volume of the limit orders is relatively large on one side, the price tends to move toward the other side. The micro-price reflects this hypothetical relationship. </p>
<p>&lt;img src=”<a href="https://jackliu234.com/2019/10/orderbook.png">https://jackliu234.com/2019/10/orderbook.png</a>  height=60%&gt;</p>
<p><br><br><br></p>
<p>Reference:</p>
<ul>
<li>MSFM 36702 Lecture Slides, Yuri Balasanov, University of Chicago</li>
</ul>
</div></article></div></main><footer><div class="paginator"><a href="/2019/10/ddns/" class="next">NEXT</a></div><div id="container"></div><!-- link(rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css")--><link rel="stylesheet" href="/css/gitalk.css"><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script><script>var gitalk = new Gitalk({
    clientID: '4ec287ddd4ac34ff5087',
    clientSecret: 'ae45426765f12ac3e2f903662b8938dc4881f703',
    repo: 'jackliu234.github.io',
    owner: 'jackliu234',
    admin: ['jackliu234'],
    perPage: 100,
    id: 'Tue Oct 08 2019 00:00:00 GMT-0500 GMT'.split('GMT')[0].replace(/\s/g, '-'),
    distractionFreeMode: false,
    pagerDirection: 'first'
})

gitalk.render('container')</script><!-- block copyright--></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-133275176-1",'auto');ga('send','pageview');</script><link rel="stylesheet" href="//cdn.datatables.net/1.10.7/css/jquery.dataTables.min.css" media="screen" type="text/css"><script src="//cdn.datatables.net/1.10.7/js/jquery.dataTables.min.js"></script><script>$(function(){$('.datatable').dataTable( {"order": [[ 0, "desc" ]],"iDisplayLength": -1,"lengthMenu": [[10, 25, 50, -1], [10, 25, 50, "All"]]} );});</script></body></html>